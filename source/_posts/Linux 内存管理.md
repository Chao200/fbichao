---
title: Linux 内存管理
tags:
  - Linux
  - 内存管理
author: fbichao
categories: 
  - 操作系统
  - Linux
excerpt: Linux 内存管理
math: true
date: 2024-03-13 21:45:00
---

# 1. Linux 内存结构

![](https://file.fbichao.top/2024/03/30c7b8a6ec9f7b8d84d99cb2b6637b93.png)

- 代码段，包括二进制可执行代码；
- 数据段，包括**已初始化**的静态常量和全局变量；
- BSS 段，包括**未初始化**的静态变量和全局变量；
- 堆段，包括动态分配的内存，从低地址开始向上增长；
- 文件映射段，包括动态库、共享内存等，从低地址开始向上增长（跟硬件和内核版本有关 (opens new window)）；
- 栈段，包括局部变量和函数调用的上下文等。栈的大小是**固定**的，一般是 8 MB。当然系统也提供了参数，以便我们自定义大小；

# 2. Linux 虚拟内存

例如 32 位处理器，虚拟内存空间是 4G，每个进程都以为自己拥有连续的 4G，实际虚拟内存对应的物理空间可能只有一点点，并且分隔成多个物理内存，可能还有一部分存储在磁盘上，在需要时 swap

应用程序---->虚拟地址---->物理地址

软件和硬件实现：内存管理模块、内存管理单元 MMU

内存分页

段页式管理

